<html>
<head>
<title>How I made my own WireGuard VPN server | TechCrunch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何制作自己的WireGuard VPN服务器| TechCrunch</h1>
<blockquote>原文：<a href="https://web.archive.org/web/https://techcrunch.com/2018/07/28/how-i-made-my-own-wireguard-vpn-server/">https://web.archive.org/web/https://techcrunch.com/2018/07/28/how-i-made-my-own-wireguard-vpn-server/</a></blockquote><div><div class="article-content">
				<p id="speakable-summary" class="translated"><span class="featured__span-first-words">你们中的一些人</span>可能听说过VPN协议，它允许你在你的设备和服务器之间建立连接，例如OpenVPN和IPsec。但是有一种全新的闪亮协议，承诺同时更快更安全——<a href="https://web.archive.org/web/20230326173021/https://www.wireguard.com/">wire guard</a>。</p>
<p class="translated">但是<a href="https://web.archive.org/web/20230326173021/https://techcrunch.com/2017/01/01/wtf-is-a-vpn/"> WTF反正是个VPN </a>？VPN是您面前的设备和数据中心的服务器之间的虚拟专用网络。如果您想要对本地网络上的其他人隐藏您的互联网流量，您可以在您的设备和服务器之间创建一个隧道。</p>
<p class="translated">你所有的网络流量都要通过这个连接，而且流量从一端到另一端通常都是加密的。这意味着你过分热心的It部门或中国的<a href="https://web.archive.org/web/20230326173021/https://en.wikipedia.org/wiki/Great_Firewall" title="Great Firewall of China">防火长城</a>不能阻止任何服务。</p>
<p class="translated">然而，这也意味着操作服务器的人可以看到所有未加密的流量。这就是为什么我从不推荐使用免费的VPN服务，甚至不推荐付费使用一个账户。使用VPN并不意味着你在互联网上会更安全。你只是把风险转移到了VPN隧道。</p>
<p class="translated">许多VPN公司分析你的浏览习惯，卖给广告商，在不安全的页面上注入他们自己的广告，窃取你的身份，记录你的互联网流量，与执法部门共享信息等等。</p>
<p class="translated">说到VPN公司，不要相信任何人。</p>
<h2 class="translated">查看协议</h2>
<p class="translated">创建点对点VPN隧道有多种方法。您的设备和服务器需要使用相同的协议来相互通信。最流行的协议是<a href="https://web.archive.org/web/20230326173021/https://en.wikipedia.org/wiki/OpenVPN"> OpenVPN </a>。这是一个安全的实现，几乎可以在任何设备上运行，只要你愿意安装一个应用程序。</p>
<p class="translated">IPsec与IKEv2认证相结合，是另一种流行的协议。它可以在iOS、macOS、Windows和Linux上运行。这就是为什么它是无法安装任何应用程序的设备的绝佳选择。</p>
<p class="translated">你可能也听说过PPTP或L2TP。但是这些协议并不安全，任何人都不应该再使用它们。</p>
<p class="translated">看起来已经有很多选择了。但是OpenVPN已经存在17年了。它很慢，而且不是为移动设备设计的。</p>
<p class="translated">OpenVPN和IPsec也有一个巨大的代码库，这创造了一个更大的<a href="https://web.archive.org/web/20230326173021/https://en.wikipedia.org/wiki/Attack_surface">攻击面</a>。目前还不清楚NSA是否发现了这些协议中的漏洞，因为审计大型代码库更加困难。WireGuard的创建者杰森·唐恩菲尔德只为最初的发布写了【4,000行代码。</p>
<p class="translated">连接到WireGuard服务器非常类似于使用SSH连接到远程服务器。您生成一组公钥和私钥，并与服务器交换公钥。既安全又难糊弄。</p>
<p class="translated">与其他VPN协议相比，WireGuard依赖于您设备的网络接口。它添加了一个新的接口，无论您使用的是Wi-Fi、以太网、LTE等，都可以通过隧道本地路由所有流量。</p>
<p class="translated">普通VPN用户也知道，每次从Wi-Fi切换到LTE再到以太网时，您都必须重新连接到VPN服务器… WireGuard服务器可以保持与您的设备的连接，即使您切换到另一个网络并获得新的IP地址。</p>
<p class="translated">WireGuard仍然是相当新的和实验性的。例如，你找不到任何iOS版的WireGuard客户端。也很少有带有图形用户界面的WireGuard实现。</p>
<h2 class="translated">构建您自己的VPN服务器</h2>
<p class="translated">如果你想试试WireGuard，这并不难。你可能还记得我<a href="https://web.archive.org/web/20230326173021/https://techcrunch.com/2017/04/09/how-i-made-my-own-vpn-server-in-15-minutes/">过去讲过Algo VPN </a>。这是一个很棒的开源项目，让你在几分钟内就可以设置好自己的VPN服务器。你不需要任何编码技能。</p>
<p class="translated">原来<a href="https://web.archive.org/web/20230326173021/https://github.com/trailofbits/algo"> Algo VPN </a>现在除了IKEv2还支持WireGuard。换句话说，用Algo VPN创建一个VPN服务器将允许你使用两种协议连接到这个服务器。</p>
<p class="translated">Algo VPN可以在任何Ubuntu服务器上运行，但是托管你的服务器最简单的方法是在<a href="https://web.archive.org/web/20230326173021/https://www.digitalocean.com/"> DigitalOcean </a>上创建一个账户。之后，您需要<a href="https://web.archive.org/web/20230326173021/https://github.com/trailofbits/algo#deploy-the-algo-server">下载一个zip文件</a>并按照说明进行操作。</p>
<p class="translated">设置完成后，您的硬盘上应该会有一个新文件夹，其中包含连接到VPN服务器所需的所有内容。如果你在Mac上，你可以双击<code>.mobileconfig</code>文件，从你的Mac使用IKEv2连接到你的VPN服务器。</p>
<p class="translated">如果你想尝试WireGuard，你需要一台运行macOS或Linux的电脑，或者一部Android手机。使用WireGuard最简单的方法是安装<a href="https://web.archive.org/web/20230326173021/https://play.google.com/store/apps/details?id=com.wireguard.android"> Android应用</a>，并将<code>.conf</code>文件添加到手机中。</p>
<p class="translated">在你的Mac上，你需要使用<a href="https://web.archive.org/web/20230326173021/https://brew.sh/">自制软件</a> ( <code>brew install wireguard-tools</code>)安装WireGuard。然后，您可以将<code>myvpnserver.conf</code>文件移动到硬盘上的<code>/etc/wireguard/</code>，并使用简单的命令行(<code>wg-quick up myvpnserver</code>和<code>wg-quick down myvpnserver</code>)进行连接。</p>
<p class="translated"><img decoding="async" src="../Images/e32f0756d851f58d70bb8927ef53f0fb.png" alt="" class="breakout aligncenter size-full wp-image-1679901" srcset="https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-1.png 1036w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-1.png?resize=150,117 150w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-1.png?resize=300,233 300w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-1.png?resize=768,597 768w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-1.png?resize=680,529 680w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-1.png?resize=50,39 50w" sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-1.png"/></p>
<p class="translated">我想更进一步，跳过终端窗口。在macOS上，您可以使用“脚本编辑器”应用程序创建AppleScript，并通过在“设置”中启用“菜单栏”选项将其放入菜单栏中。</p>
<p class="translated"><img decoding="async" loading="lazy" src="../Images/a2627c32a01867ba246f33b101465ed2.png" alt="" class="breakout aligncenter size-full wp-image-1679902" srcset="https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-2.png 850w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-2.png?resize=150,64 150w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-2.png?resize=300,128 300w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-2.png?resize=768,329 768w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-2.png?resize=680,291 680w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-2.png?resize=50,21 50w" sizes="(max-width: 850px) 100vw, 850px" data-original-src="https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-2.png"/></p>
<p class="translated">在我的脚本中，我还使用<a href="https://web.archive.org/web/20230326173021/https://icanhazptr.com/">icanhazptr.com</a>获取我当前的主机名。然后，我在通知中显示我当前的主机名，以检查我是否连接到了VPN服务器。在这种情况下，我在<a href="https://web.archive.org/web/20230326173021/https://www.scaleway.com/"> Scaleway </a>上创建了一个VPN服务器:</p>
<p class="translated"><img decoding="async" loading="lazy" src="../Images/f61bfeacebcd659275cc6a6f90a4ba0d.png" alt="" class="breakout aligncenter size-full wp-image-1679903" srcset="https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-3.jpg 812w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-3.jpg?resize=150,53 150w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-3.jpg?resize=300,106 300w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-3.jpg?resize=768,271 768w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-3.jpg?resize=680,240 680w, https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-3.jpg?resize=50,18 50w" sizes="(max-width: 812px) 100vw, 812px" data-original-src="https://web.archive.org/web/20230326173021im_/https://techcrunch.com/wp-content/uploads/2018/07/Algo-VPN-WireGuard-3.jpg"/></p>
<p class="translated">这就是了。现在你不能说你更喜欢使用商业VPN服务，因为他们有一个很好的菜单栏应用程序。这种设置提供了同样的便利，但VPN连接更稳定。</p>
<p class="translated">再说一次，WireGuard是实验性的。在生产层面使用WireGuard之前，您需要<a href="https://web.archive.org/web/20230326173021/https://techcrunch.com/2018/04/14/how-to-save-your-privacy-from-the-internets-clutches/">评估您的风险</a>。如果你是爱德华·斯诺登，WireGuard可能还没有为你准备好。您还需要适应有缺陷的实现。例如，我在关闭WireGuard连接后遇到了DNS问题，所以我不得不重置网络接口中的DNS设置。</p>
<p class="translated">但事实上，你可以关闭你的笔记本电脑，切换到另一个Wi-Fi网络，并保持连接到VPN服务器是非常整洁的。很明显，WireGuard代表了VPN协议的未来。</p>
			</div>

			</div>    
</body>
</html>